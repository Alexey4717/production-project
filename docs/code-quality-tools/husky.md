Husky. Это пакет, который предназначени для пре-коммит хуков гита.
Т.е. на какое-то гит действие (git commit, git push) можно повесить какие-то проверки, аналогично тем, которые в github-actions.
Инициализация npx husky-init
Появилась папка в корне проекта .husky. Для примера есть файл pre-commit, там можно запускать что угодно,
но обычно запускают только линтеры (что-то легкое, что выполняется быстро).
Потому что запускать всё подряд (сторибук, тесты и т.д.) это очень долго
и на каждый коммит это делать неудобно. Но мы добавили все, т.к. github-actions бесплатно дает лимитированное число проверок.
Поэтому будем делать их тут на прекоммит. Но нужно запускать сторибук локально,
т.к. в github-actions делалась сборка и на основании неё уже скриншотные тесты.

## Lint staged и pre commit хуки.
Привели pre-commit хуки к виду, похожему на вид для реальной бизнес-разработки.
В файле .husky/pre-commit lint:ts прогоняет все файлы проекта.
Представим ситуацию, что мы изменили 3 файла, делаем коммит, а линтер прогоняет абсолютно все файлы (даже не изменённые вами).
Это может занимать 5-10 минут.
Есть специальная библиотека lint staged. Она позволяет прогонять линтером только те файлы, которые были изменены.
Такой функционал можно написать и самому, можно смотреть на dif гита или кеши (и достать оттуда только те файлы которые менялись), но мы будем использовать "lint-staged".
Чтоб его использовать с husky нужно в package.json добавить объект для поля "lint-staged".
Либо создать отдельный файл lintstaged.rc
Регуляркой укажем, что проверять только ts и tsx файлы.
Чуть позже можно будет добавить к "lint-staged" еще и prettier и stylelint.
В файле .husky/pre-commit вместо lint:ts оставили только npx lint-staged. В итоге прекоммит хуки будут выполняться быстрее и не будут раздражать разрабов или тормозить процесс разработки.

