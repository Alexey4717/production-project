## Prettier для форматирования кода. Интегрируем с eslint.
Можно настроить линтер так, чтобы он расставлял пробелы, запятые, делал нужные строчки, символы в табах и в целом нас это устраивает.
Но линтер, это инструмент, который используется немного для другого.
Линтинг - это в первую очередь статический анализ кода, на соответствие каким-то правилам.
Причем правила могут быть сколь угодно сложные и разные. В т.ч. мы написали много своих правил.
А за форматирование кода (в первую очередь) должен отвечать prettier.
Настраивать легко. Установили его как дев зависимость. Создали конфиг .prettierrc.json.
Так же создали .prettierignore, чтоб он не форматировал определённые файлы/директории.
Для запуска yarn exec prettier . --write
Но часть правил уже задано линтером, в доке есть раздел с интеграцией lint (и со stylelint тоже).
Установили в дев деп пакет eslint-config-prettier. И в .eslintrc.js добавили в extends prettier.
В доке указано что правила всегда побеждают extends (т.е. они приоритетнее чем расширение какого-то конфига).
Поэтому от ненужных правил нужно избавиться или переопределить.
Поубирали в линт конфиге правила отступа, max-len
Чтоб prettier заработал, нужно включить его в настройках вебшторма (по поиску prettier, я включил авто поиск конфига).
Теперь на форматирование (Ctrl + S или Ctrl + Alt + L) код форматируется.
Чтоб вернуть правила в претиер как это было через линтер, можно открыть https://prettier.io/docs/options
И там найти нужные свойства и вставить их в конфиг преттиера.
Иногда, если вебшторм не применяет форматирование преттера, то нужно его выключить и включить.
Всё форматирование как правило вкусовщина, нужно настраивать под себя, по согласованию с командой.
tabWidth - длина таба,
semi - в конце точки с запятой
singleQuote - одинарные ковычки на проекте
trailingComma - запятая в конце (лучше добавлять)
bracketSpacing - пробел между скобками {} и значением внутри
bracketSameLine - перенос jsx последней скобки (>) на новую строку
arrowParens - обертка в скобочки аргументов стрелочных функций
добавили в линтер правило react/jsx-max-props-per-line (чтоб максимум 3 пропса в компоненте на линию было), это правило расширит конфиг преттира.
Добавили скрипт prettier в package.json, чтобы он выравнивал весь проект.
Так же в package.json есть lint-staged, там расширили "**/*.{ts,tsx}": ["prettier --list-different", "eslint"]
Будет проверять только для измененных файлов в момент прекоммита.
У меня почему-то через yarn exec не получалось форматировать, через npx заработало.
Потом запустили проект, чтоб убедиться что он не сломался
